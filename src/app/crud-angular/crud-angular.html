<div style="padding: 24px; background: #f0f2f5; min-height: 100vh;">

    <nz-card [nzTitle]="isEditMode ? 'Cập nhật thông tin' : 'Thêm User mới'" style="margin-bottom: 20px;">

        <div nz-row [nzGutter]="16">

            <div nz-col [nzSpan]="8">
                <nz-form-item>
                    <nz-form-label nzRequired>Họ và tên</nz-form-label>
                    <nz-form-control nzErrorTip="Vui lòng nhập họ tên!">
                        <nz-input-group nzPrefixIcon="user">
                            <input type="text" nz-input [(ngModel)]="currentUser.fullName" placeholder="Họ và tên" />
                        </nz-input-group>
                    </nz-form-control>
                </nz-form-item>
            </div>

            <div nz-col [nzSpan]="8">
                <nz-form-item>
                    <nz-form-label nzRequired>Email</nz-form-label>
                    <nz-form-control>
                        <nz-input-group nzPrefixIcon="mail">
                            <input type="email" nz-input [(ngModel)]="currentUser.email" placeholder="Email" />
                        </nz-input-group>
                    </nz-form-control>
                </nz-form-item>
            </div>

            <div nz-col [nzSpan]="8">
                <nz-form-item>
                    <nz-form-label [nzRequired]="!isEditMode">Mật khẩu</nz-form-label>
                    <nz-form-control>
                        <nz-input-group nzPrefixIcon="lock">
                            <input type="password" nz-input [(ngModel)]="currentUser.password" placeholder="Mật khẩu" />
                        </nz-input-group>
                    </nz-form-control>
                </nz-form-item>
            </div>
        </div>

        <div style="margin-top: 16px; text-align: right;">
            <button nz-button nzType="primary" (click)="saveUser()">
                <span nz-icon [nzType]="isEditMode ? 'save' : 'plus'"></span>
                {{ isEditMode ? 'Lưu thay đổi' : 'Thêm mới' }}
            </button>

            <button *ngIf="isEditMode" nz-button nzType="default" (click)="resetForm()" style="margin-left: 8px;">
                Hủy bỏ
            </button>
        </div>

    </nz-card>

    <nz-card nzTitle="Danh sách người dùng">
        <nz-table #basicTable [nzData]="users" [nzPageSize]="5">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Họ tên</th>
                    <th>Email</th>
                    <th style="text-align: center;">Thao tác</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let data of basicTable.data">
                    <td>{{ data.id }}</td>
                    <td>{{ data.fullName }}</td>
                    <td>{{ data.email }}</td>
                    <td style="text-align: center;">

                        <button nz-button nzType="primary" nzGhost (click)="editUser(data)" style="margin-right: 8px;">
                            <span nz-icon nzType="edit"></span> Sửa
                        </button>

                        <button nz-button nzType="primary" nzDanger nz-popconfirm
                            nzPopconfirmTitle="Bạn có chắc muốn xóa?" (nzOnConfirm)="deleteUser(data.id)">
                            <span nz-icon nzType="delete"></span> Xóa
                        </button>

                    </td>
                </tr>
            </tbody>
        </nz-table>
    </nz-card>
</div>